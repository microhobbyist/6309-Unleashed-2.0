LISTING FOR LOGIC DESCRIPTION FILE: IOdecode.pld                     Page 1

CUPL(WM): Universal Compiler for Programmable Logic
Version 5.0a Serial# MW-10400000
Copyright (c) 1983, 1998 Logical Devices, Inc.
Created Tue Nov 18 21:52:33 2025

  1:Name     IODecode ;
  2:PartNo   ATF22V10C ;
  3:Date     2025/11/17 ;
  4:Revision 8 ;
  5:Designer Frederic Segard ;
  6:Company  MicroHobbyist ;
  7:Assembly None ;
  8:Location None ;
  9:Device   g22v10 ;
 10:
 11:PIN 1  = !IORQ ;     /* I/O Request, Active-low during I/O cycle */
 12:PIN 2  =  A0 ;       /* Address bit 0 - LSB */
 13:PIN 3  =  A1 ;
 14:PIN 4  =  A2 ;
 15:PIN 5  =  A3 ;
 16:PIN 6  =  A4 ;
 17:PIN 7  =  A5 ;
 18:PIN 8  =  A6 ;
 19:PIN 9  =  A7 ;       /* Address bit 7 - MSB of I/O window */
 20:PIN 10 =  SPDR ;     /* The red LED indicates turbo speed (yellow is fast) */
 21:PIN 11 =  SPDG ;     /* The green LED indicates normal speed (yellow is fast) */
 22:/*  12 =  GND ;      /* Ground connection */
 23:PIN 13 =  AnyCS ;    /* Pin 14 controls the output enable pin. It's wasteful, but
 24:                        it's the only way I could tristate the WS bus to work. */
 25:
 26:/*  24 =  VCC ;      /* +5V connection */
 27:PIN 23 = !TIMERcs ;  /* $FF00-07, Timer (HD63B40) */
 28:PIN 22 = !CFcs ;     /* $FF08-0F, Compact Flash card */
 29:PIN 21 = !ACIAcs ;   /* $FF10-13, ACIA (R65C51R4) */
 30:PIN 20 = !USBcs ;    /* $FF14-15  CH376S SD card and USB thumb-drive */
 31:PIN 19 = !RTCcs ;    /* $FF16-17, Realtime clock (DS12C887A) */
 32:PIN 18 =  RTCas ;    /* $FF16,    RTCs Address Strobe */
 33:PIN 17 =  RTCds ;    /* $FF17,    RTCs Data Strobe */
 34:PIN 16 =  WS0 ;      /* Waitstate LSB bus(Tristate, pulled low) */
 35:PIN 15 =  WS1 ;      /* Waitstate MSB bus(Tristate, pulled low) */
 36:PIN 14 =  IOCS ;     /* Wired to pin 13 (pulled high) */
 37:
 38:FIELD ADDR = [A7..A0];
 39:TIMERcs = ADDR:[00..07] & IORQ ;
 40:CFcs    = ADDR:[08..0F] & IORQ ;
 41:ACIAcs  = ADDR:[10..13] & IORQ ;
 42:USBcs   = ADDR:[14..15] & IORQ ;
 43:RTCas   = ADDR:[16]     & IORQ ;
 44:RTCds   = ADDR:[17]     & IORQ ;
 45:RTCcs   = RTCas # RTCds ;
 46:
 47:IOCS = TIMERcs # ACIAcs # RTCcs # CFcs # USBcs ;
 48:
 49:/* =========================================================
 50:   WAIT-STATE LOGICgo
 51:   cd plsgo
 52:   ========================================================= */
 53:FIELD CS = [TIMERcs, ACIAcs, RTCcs, CFcs, USBcs, SPDG, SPDR] ;

LISTING FOR LOGIC DESCRIPTION FILE: IOdecode.pld                     Page 2

CUPL(WM): Universal Compiler for Programmable Logic
Version 5.0a Serial# MW-10400000
Copyright (c) 1983, 1998 Logical Devices, Inc.
Created Tue Nov 18 21:52:33 2025

 54:FIELD WS = [WS1,WS0] ;
 55:TABLE CS => WS {
 56:/* Slow mode (speed=00) - OFF .75MHz Max */
 57:'b'0000000 => 'b'00 ;
 58:'b'1000000 => 'b'00 ;
 59:'b'0100000 => 'b'00 ;
 60:'b'0010000 => 'b'00 ;
 61:'b'0001000 => 'b'00 ;
 62:'b'0000100 => 'b'00 ;
 63:/* Normal mode (speed=10) - GREEN 1.5MHz Max */
 64:'b'0000010 => 'b'00 ;
 65:'b'1000010 => 'b'00 ;
 66:'b'0100010 => 'b'00 ;
 67:'b'0010010 => 'b'00 ;
 68:'b'0001010 => 'b'01 ;
 69:'b'0000110 => 'b'00 ;
 70:/* Fast mode (speed=11) - YELLOW 3MHz Max */
 71:'b'0000011 => 'b'00 ;
 72:'b'1000011 => 'b'01 ;
 73:'b'0100011 => 'b'01 ;
 74:'b'0010011 => 'b'00 ;
 75:'b'0001011 => 'b'10 ;
 76:'b'0000111 => 'b'01 ;
 77:/* Turbo mode (speed=01) - RED 6MHz Max */
 78:'b'0000001 => 'b'00 ;
 79:'b'1000001 => 'b'10 ;
 80:'b'0100001 => 'b'01 ;
 81:'b'0010001 => 'b'01 ;
 82:'b'0001001 => 'b'11 ;
 83:'b'0000101 => 'b'11 ;
 84:}
 85:
 86:WS0.oe = AnyCS ;
 87:WS1.oe = AnyCS ;
 88:
 89:



Jedec Fuse Checksum       (a945)
Jedec Transmit Checksum   (1cd6)
